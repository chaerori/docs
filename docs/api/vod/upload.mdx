---
title: 비디오 업로드
description: 비디오 파일을 업로드하는 방법을 설명합니다.
---

# 비디오 업로드

Kollus VOD API를 사용하여 비디오 파일을 업로드하는 방법을 알아보겠습니다.

## 업로드 방법

### 1. 직접 업로드

```bash
curl -X POST \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F "file=@video.mp4" \
  -F "title=샘플 비디오" \
  -F "description=비디오 설명" \
  -F "category=교육" \
  https://api.kollus.com/v1/videos/upload
```

### 2. 청크 업로드 (대용량 파일)

```javascript
const uploadVideo = async (file, onProgress) => {
  const chunkSize = 5 * 1024 * 1024; // 5MB
  const totalChunks = Math.ceil(file.size / chunkSize);
  
  for (let i = 0; i < totalChunks; i++) {
    const start = i * chunkSize;
    const end = Math.min(start + chunkSize, file.size);
    const chunk = file.slice(start, end);
    
    const formData = new FormData();
    formData.append('chunk', chunk);
    formData.append('chunk_index', i);
    formData.append('total_chunks', totalChunks);
    formData.append('file_name', file.name);
    
    await fetch('/api/v1/videos/upload-chunk', {
      method: 'POST',
      headers: {
        'Authorization': 'Bearer YOUR_API_KEY'
      },
      body: formData
    });
    
    onProgress((i + 1) / totalChunks * 100);
  }
};
```

## 지원 포맷

| 포맷 | 확장자 | 최대 크기 |
|------|--------|-----------|
| MP4 | .mp4 | 10GB |
| AVI | .avi | 10GB |
| MOV | .mov | 10GB |
| WMV | .wmv | 5GB |
| FLV | .flv | 5GB |

## 업로드 옵션

### 메타데이터 설정

```json
{
  "title": "비디오 제목",
  "description": "비디오 설명",
  "category": "교육",
  "tags": ["교육", "온라인", "강의"],
  "thumbnail": "base64_encoded_image",
  "is_public": true,
  "allow_download": false
}
```

### 품질 설정

```json
{
  "quality_preset": "high",
  "generate_thumbnails": true,
  "thumbnail_interval": 10,
  "watermark": {
    "text": "Kollus",
    "position": "bottom-right",
    "opacity": 0.5
  }
}
```

## 업로드 상태 확인

```http
GET /v1/videos/{video_id}/status
```

**응답 예시:**
```json
{
  "status": "success",
  "data": {
    "video_id": "video_123",
    "status": "processing",
    "progress": 75,
    "estimated_completion": "2024-01-01T12:30:00Z"
  }
}
```

## 웹훅 설정

업로드 완료 시 알림을 받으려면 웹훅을 설정하세요.

```json
{
  "webhook_url": "https://your-domain.com/webhook/video-uploaded",
  "events": ["video.uploaded", "video.processing.completed", "video.processing.failed"]
}
```

## 에러 처리

```javascript
const handleUploadError = (error) => {
  switch (error.code) {
    case 'FILE_TOO_LARGE':
      console.error('파일 크기가 너무 큽니다.');
      break;
    case 'INVALID_FORMAT':
      console.error('지원하지 않는 파일 포맷입니다.');
      break;
    case 'UPLOAD_FAILED':
      console.error('업로드에 실패했습니다. 다시 시도해주세요.');
      break;
    default:
      console.error('알 수 없는 오류가 발생했습니다.');
  }
};
```

## 다음 단계

- [스트리밍 URL 생성](/api/vod/streaming) - 업로드된 비디오의 스트리밍 URL 생성
- [비디오 관리](/api/vod/management) - 업로드된 비디오 관리
