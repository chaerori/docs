---
title: 배포
description: 애플리케이션 배포 및 운영 가이드입니다.
---

# 배포

애플리케이션을 프로덕션 환경에 배포하는 방법을 알아보겠습니다.

## 빌드 과정

### 프로덕션 빌드

```bash
# 의존성 설치
npm install

# 프로덕션 빌드
npm run build

# 빌드 결과 확인
ls -la dist/
```

### 환경 변수 설정

```bash
# .env.production 파일 생성
NODE_ENV=production
API_URL=https://api.example.com
DATABASE_URL=postgresql://user:password@localhost:5432/dbname
```

## 배포 옵션

### 1. 정적 호스팅 (Vercel, Netlify)

```json
// vercel.json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/static-build"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/index.html"
    }
  ]
}
```

### 2. 클라우드 서버 (AWS, GCP, Azure)

```dockerfile
# Dockerfile
FROM node:16-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000

CMD ["npm", "start"]
```

### 3. 컨테이너 배포

```bash
# Docker 이미지 빌드
docker build -t my-app .

# 컨테이너 실행
docker run -p 3000:3000 my-app

# Docker Compose 사용
docker-compose up -d
```

## CI/CD 파이프라인

### GitHub Actions 예시

```yaml
# .github/workflows/deploy.yml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v2
    
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Run tests
      run: npm test
      
    - name: Build
      run: npm run build
      
    - name: Deploy
      run: npm run deploy
```

## 모니터링

### 로그 관리

```javascript
// winston 로거 설정
const winston = require('winston');

const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

if (process.env.NODE_ENV !== 'production') {
  logger.add(new winston.transports.Console({
    format: winston.format.simple()
  }));
}
```

### 성능 모니터링

```javascript
// 성능 메트릭 수집
const performance = require('perf_hooks');

const measurePerformance = (name, fn) => {
  const start = performance.now();
  const result = fn();
  const end = performance.now();
  
  console.log(`${name} 실행 시간: ${end - start}ms`);
  return result;
};
```

## 보안 고려사항

### HTTPS 설정

```javascript
// Express.js HTTPS 설정
const https = require('https');
const fs = require('fs');

const options = {
  key: fs.readFileSync('private-key.pem'),
  cert: fs.readFileSync('certificate.pem')
};

https.createServer(options, app).listen(443);
```

### 환경 변수 보안

```bash
# 민감한 정보는 환경 변수로 관리
export DATABASE_PASSWORD="secure-password"
export JWT_SECRET="your-jwt-secret"
```

## 다음 단계

배포가 완료되면 [문제 해결](/dev-guide/troubleshooting) 가이드를 확인하세요.
