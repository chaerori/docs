"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["8565"],{14311:function(i,t,e){e.r(t),e.d(t,{dyte_participant:function(){return p}});var n=e(84982),s=e(48724),a=e(83041),r=e(96632),o=e(60383),c=e(39415);e(79598);var d=e(71783),l=e(81479);e(78410),e(51943);var h=e(98452);e(94098);let p=class{constructor(i){(0,n.r)(this,i),this.dyteSendNotification=(0,n.c)(this,"dyteSendNotification",7),this.pinnedListener=({isPinned:i})=>{this.isPinned=i},this.stageListener=({stageStatus:i})=>{this.isOnStage="ON_STAGE"===i},this.inviteToStageToggle=async()=>{let i=this.participant,{stage:t}=this.meeting;if("ACCEPTED_TO_JOIN_STAGE"===i.stageStatus){this.dyteSendNotification.emit({message:`${i.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-${i.id}`});return}this.isOnStage?(i.isPinned&&i.unpin(),await t.kick([i.userId])):(await t.grantAccess([i.userId]),this.dyteSendNotification.emit({message:`${i.name} ${this.t("stage.invited_notification")}`,trace:`join-stage-invite-${i.id}`})),this.isOnStage="ON_STAGE"===i.stageStatus},this.handleOutsideClick=()=>{!this.clickedThis&&this.menuOpen&&(this.menuOpen=!1),this.clickedThis=!1},this.clickedThis=!1,this.update=()=>{let i=this.host.shadowRoot.getElementById("trigger"),t=this.host.shadowRoot.getElementById("menu-list");(0,h.c)(i,t,{placement:"bottom-end",middleware:[(0,h.o)(10),(0,h.f)(),(0,h.s)({padding:5})]}).then(({x:i,y:e})=>{Object.assign(t.style,{right:`${i}px`,top:`${e}px`})})},this.onMenuToggle=()=>{this.clickedThis=!0,this.menuOpen=!this.menuOpen,this.menuOpen&&this.update()},this.meeting=void 0,this.view="sidebar",this.participant=void 0,this.iconPack=s.d,this.t=(0,a.u)(),this.config=d.d,this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1,this.menuOpen=!1}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant)}disconnectedCallback(){document.removeEventListener("click",this.handleOutsideClick),null!=this.participant&&void 0!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("stageStatusUpdate",this.stageListener))}meetingChanged(i){var t,e,n,s,a,r,o;if(null!=i){let{self:c}=i;this.canDisableParticipantAudio=c.permissions.canAllowParticipantAudio||c.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=c.permissions.canAllowParticipantVideo||c.permissions.canDisableParticipantVideo,this.canKickParticipant=c.permissions.kickParticipant&&(null===(t=this.meeting)||void 0===t?void 0:t.__internals__.features.hasFeature(l.F.DISABLE_KICKING))!==!0&&((null===(e=this.meeting)||void 0===e?void 0:e.__internals__.features.hasFeature(l.F.ADMIN_CANTREMOVE_ADMIN))!==!0||(null===(n=this.participant)||void 0===n?void 0:n.presetName)!=="webinar_admin"),this.canPinParticipant=c.permissions.pinParticipant,this.canAllowParticipantOnStage=c.permissions.acceptStageRequests&&c.permissions.stageEnabled&&((null===(s=this.meeting)||void 0===s?void 0:s.__internals__.features.hasFeature(l.F.ADMIN_CANTREMOVE_ADMIN))!==!0||(null===(a=this.participant)||void 0===a?void 0:a.presetName)!=="webinar_admin")&&((null===(r=this.meeting)||void 0===r?void 0:r.__internals__.features.hasFeature(l.F.CANTINVITE_VIEWER))!==!0||(null===(o=this.participant)||void 0===o?void 0:o.presetName)!=="webinar_viewer")}}participantChanged(i){null!=i&&(this.audioEnabled=i.audioEnabled,this.videoEnabled=i.videoEnabled,this.isPinned=i.isPinned,this.isOnStage="ON_STAGE"===i.stageStatus,this.audioUpdateListener=({audioEnabled:i})=>{this.audioEnabled=i},this.videoUpdateListener=({videoEnabled:i})=>{this.videoEnabled=i},void 0!=i.addListener&&(i.addListener("audioUpdate",this.audioUpdateListener),i.addListener("videoUpdate",this.videoUpdateListener),i.addListener("pinned",this.pinnedListener),i.addListener("unpinned",this.pinnedListener),i.addListener("stageStatusUpdate",this.stageListener)))}componentDidLoad(){document.addEventListener("click",this.handleOutsideClick)}render(){var i,t,e,s,a,d,l,h;let p=(null===(i=this.meeting)||void 0===i?void 0:i.meta.viewType)==="AUDIO_ROOM",u=(null===(t=this.meeting)||void 0===t?void 0:t.self.id)===this.participant.id,g=this.canDisableParticipantAudio&&this.audioEnabled||this.canDisableParticipantVideo&&this.videoEnabled&&!p||this.canKickParticipant||this.canPinParticipant&&this.isOnStage||this.canAllowParticipantOnStage,m=(0,o.f)((null===(e=this.participant)||void 0===e?void 0:e.name)||""),v=this.isOnStage||["GROUP_CALL","AUDIO_ROOM"].includes(null===(s=this.meeting)||void 0===s?void 0:s.meta.viewType),f={meeting:this.meeting,size:"sm",states:c.s,config:this.config,iconPack:this.iconPack,t:this.t};return(0,n.h)(n.H,null,(0,n.h)("div",{class:"left"},(0,n.h)("dyte-avatar",{participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,n.h)("p",{class:"name",title:m},(0,o.s)(m,16)," ",(null===(a=this.meeting)||void 0===a?void 0:a.self.id)===(null===(d=this.participant)||void 0===d?void 0:d.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,n.h)("div",{class:"right"},v&&(0,n.h)("dyte-icon",{class:{red:!this.audioEnabled},iconPack:this.iconPack,t:this.t,icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),v&&!p&&(0,n.h)("dyte-icon",{class:{red:!this.videoEnabled},iconPack:this.iconPack,t:this.t,icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),(g||(0,r.l)({element:"dyte-participant",defaults:f,childProps:{participant:this.participant}})>0)&&(0,n.h)("div",{class:"menu"},(0,n.h)("span",{id:"trigger",onClick:this.onMenuToggle},(0,n.h)("dyte-button",{variant:"ghost",kind:"icon",slot:"trigger",iconPack:this.iconPack,t:this.t},(0,n.h)("dyte-icon",{class:"more",icon:this.iconPack.more_vertical}))),(0,n.h)("span",{id:"menu-list"},this.menuOpen&&(0,n.h)("dyte-menu-list",{iconPack:this.iconPack,t:this.t},this.canPinParticipant&&v&&!p&&(0,n.h)("dyte-menu-item",{onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},(0,n.h)("dyte-icon",{icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start",iconPack:this.iconPack,t:this.t}),this.isPinned?this.t("unpin"):this.t("pin")),this.canDisableParticipantAudio&&v&&this.audioEnabled&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},(0,n.h)("dyte-icon",{icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&v&&this.videoEnabled&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},(0,n.h)("dyte-icon",{icon:this.iconPack.video_off,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("participants.turn_off_video")),this.canAllowParticipantOnStage&&(null===(l=this.participant)||void 0===l?void 0:l.id)!==(null===(h=this.meeting)||void 0===h?void 0:h.self.id)&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:this.inviteToStageToggle},(0,n.h)("dyte-icon",{iconPack:this.iconPack,t:this.t,icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!u&&this.canKickParticipant&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var i,t;null===(i=this.meeting)||void 0===i||i.participants.kick(null===(t=this.participant)||void 0===t?void 0:t.id)}},(0,n.h)("dyte-icon",{icon:this.iconPack.dismiss,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("kick")),(0,n.h)("slot",null,(0,n.h)(r.R,{element:"dyte-participant",defaults:f,childProps:{participant:this.participant},deepProps:!0,onlyChildren:!0})))))))}get host(){return(0,n.a)(this)}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}.menu{position:relative;display:inline-block;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}#menu-list{position:absolute;z-index:20}"},96632:function(i,t,e){e.d(t,{R:function(){return d},l:function(){return c}});var n=e(84982);let s=({element:i,size:t,states:e={},config:n={}})=>{let s=[],a=null==n?void 0:n.root[i],r=i=>{s.push(i),"string"==typeof t&&s.push(`${i}.${t}`)};if(r(i),"object"==typeof a&&!Array.isArray(a)&&null!==a){let{state:t,states:n}=a,s=[];if(Array.isArray(n)){for(let t of((s=n.filter(i=>e[i])).sort(),s))r(`${i}.${t}`);s.length>1&&r([i,...s].join("."))}if("string"==typeof t){let n=`${i}[${t}=${e[t]}]`;for(let i of(r(n),s))r(`${n}.${i}`);s.length>1&&r([n,...s].join("."))}}return s},a=({selectors:i,styles:t})=>{if(!Array.isArray(i)||null==t)return{};let e={};for(let n of i){let i=t[n];null!=i&&Object.assign(e,i)}return e},r=({selectors:i,root:t})=>{if(!t||!Array.isArray(i))return[];let e=[];for(let n of i){let i=t[n];if(Array.isArray(i))e=[...i];else if(i){if(i.children&&(e=[...i.children]),Array.isArray(i.remove))for(let t of i.remove)e=e.filter(i=>"string"==typeof i?i!==t:!Array.isArray(i)||i[0]!==t);if(i.addBefore)for(let[t,n]of Object.entries(i.addBefore)){let i=e.findIndex(i=>"string"==typeof i?i===t:!!Array.isArray(i)&&i[0]===t);i>=0&&e.splice(i,0,...n)}Array.isArray(i.add)&&(e=e.concat(i.add)),Array.isArray(i.prepend)&&(e=i.prepend.concat(e))}}return e},o=({elements:i,defaults:t,props:e={},deepProps:s=!1,elementProps:a={}})=>Array.isArray(i)&&0!==i.length?i.map(i=>(0,n.h)(d,{element:i,defaults:t,props:e,childProps:s&&e,elementProps:a})):null,c=({element:i,defaults:t,props:e={},elementProps:n={}})=>{var a;let{config:o,size:c,states:d}=t,l,h={},p=[];Array.isArray(i)?[l,h,...p]=i:l=i;let u=null===(a=null==o?void 0:o.root)||void 0===a?void 0:a[l];return null!=u&&"props"in u&&(e=Object.assign(Object.assign({},u.props),e)),e=Object.assign(Object.assign({},e),h),l in n&&(e=Object.assign(Object.assign({},e),n[l])),r({selectors:s({element:l,size:c,states:d,config:o}),root:o.root}).length},d=({element:i,defaults:t,childProps:e={},props:c={},onlyChildren:d=!1,asHost:l=!1,deepProps:h=!1,elementProps:p={}},u)=>{var g;let{config:m,size:v,states:f}=t,y,P={},k=[];Array.isArray(i)?[y,P,...k]=i:y=i;let b=null===(g=null==m?void 0:m.root)||void 0===g?void 0:g[y];null!=b&&"props"in b&&(c=Object.assign(Object.assign({},b.props),c)),c=Object.assign(Object.assign({},c),P),y in p&&(c=Object.assign(Object.assign({},c),p[y]));let A=s({element:y,size:v,states:f,config:m}),O=r({selectors:A,root:m.root});if(d)return(0,n.h)(o,{elements:O,defaults:t,props:e,deepProps:h,elementProps:p});let _=a({selectors:A,styles:m.styles});if(l)return(0,n.h)(n.H,Object.assign({},t,{style:_},c),(0,n.h)(o,{elements:O,defaults:t,props:e,deepProps:h,elementProps:p}),u,k.map(i=>{if(Array.isArray(i)){let[e,s]=i;return(0,n.h)(e,Object.assign({},t,s))}return i}));if(["dyte-header","dyte-controlbar"].includes(y)&&(c.disableRender=!0),y.startsWith("dyte-"))return(0,n.h)(y,Object.assign({},t,{style:_},c),(0,n.h)(o,{elements:O,defaults:t,props:e,deepProps:h,elementProps:p}),u,k.map(i=>{if(Array.isArray(i)){let[e,s]=i;return(0,n.h)(e,Object.assign({},t,s))}return i}));{let[i,s]=y.split("#");return(0,n.h)(i,Object.assign({id:s,style:_},c),(0,n.h)(o,{elements:O,defaults:t,props:e,deepProps:h,elementProps:p}),u,k.map(i=>{if(Array.isArray(i)){let[e,s]=i;return(0,n.h)(e,Object.assign({},t,s))}return i}))}}},60383:function(i,t,e){e.d(t,{a:function(){return a},f:function(){return r},g:function(){return d},h:function(){return s},s:function(){return n}});let n=(i,t=20)=>null==i?"":i.length>t?`${i.substring(0,t)}...`:i,s=i=>/^\p{Emoji}+$/u.test(i)&&!/^\d+$/.test(i),a=i=>(null==i?void 0:i.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":i,r=i=>""===(i=null==i?void 0:i.trim())?"Participant":i,o=RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),c=new RegExp(/\s+/);function d(i,t=2){return i.replace(o,"").trim().split(c).slice(0,t).map(i=>i.charAt(0)).join("").toUpperCase()}}}]);