"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["9801"],{61634:function(e,i,n){n.r(i),n.d(i,{default:()=>c,frontMatter:()=>r,metadata:()=>d,assets:()=>l,toc:()=>s,contentTitle:()=>a});var d=JSON.parse('{"id":"build-pre-call-ui/build-your-own/add-audio-video-preview","title":"Audio/video - Preview","description":"For building audio/video preview","source":"@site/docs/android/build-pre-call-ui/build-your-own/add-audio-video-preview.mdx","sourceDirName":"build-pre-call-ui/build-your-own","slug":"/build-pre-call-ui/build-your-own/add-audio-video-preview","permalink":"/docs/previews/pr-6/en/android/build-pre-call-ui/build-your-own/add-audio-video-preview","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1759304152000,"sidebarPosition":3,"frontMatter":{"title":"Audio/video - Preview","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Edit user name","permalink":"/docs/previews/pr-6/en/android/build-pre-call-ui/build-your-own/edit-user-name"},"next":{"title":"Audio/video - Device Selection","permalink":"/docs/previews/pr-6/en/android/build-pre-call-ui/build-your-own/add-audio-video-device"}}'),t=n("85893"),o=n("50065");n("81199"),n("67294");let r={title:"Audio/video - Preview",sidebar_position:3},a=void 0,l={},s=[{value:"Permissions",id:"permissions",level:3},{value:"Media Preview and Controls",id:"media-preview-and-controls",level:3}];function u(e){let i={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"For building audio/video preview"}),"\n",(0,t.jsx)(i.h3,{id:"permissions",children:"Permissions"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["For AUDIO - The value of ",(0,t.jsx)(i.code,{children:"meeting.self.permissions.canProduceAudio"})," needs to be ",(0,t.jsx)(i.code,{children:"ALLOWED"})]}),"\n",(0,t.jsxs)(i.li,{children:["For VIDEO - The value of ",(0,t.jsx)(i.code,{children:"meeting.self.permissions.canProduceVideo"})," needs to be ",(0,t.jsx)(i.code,{children:"ALLOWED"})]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["In the preset editor, toggle these settings under ",(0,t.jsx)(i.code,{children:"Media"}),"."]}),"\n",(0,t.jsx)(i.h3,{id:"media-preview-and-controls",children:"Media Preview and Controls"}),"\n",(0,t.jsxs)(i.p,{children:["We'll be using ",(0,t.jsx)(i.code,{children:"DyteParticipantTileView"}),", ",(0,t.jsx)(i.code,{children:"DyteInputField"})," for building a preview tile and\n",(0,t.jsx)(i.code,{children:"DyteMicToggleButton"}),", ",(0,t.jsx)(i.code,{children:"DyteCameraToggleButton"})," for media controls"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<androidx.constraintlayout.widget.ConstraintLayout\n  ....\n  >\n\n  <dyte.io.uikit.view.participanttile.DyteParticipantTileView\n    android:id="@+id/dyteparticipanttileview_setup_screen"\n    android:layout_width="0dp"\n    android:layout_height="0dp"\n  />\n\n  <dyte.io.uikit.view.controlbarbuttons.DyteMicToggleButton\n    android:id="@+id/dytemictoggle_setup_screen"\n    android:layout_width="48dp"\n    android:layout_height="48dp"\n  />\n\n  <dyte.io.uikit.view.controlbarbuttons.DyteCameraToggleButton\n    android:id="@+id/dytecameratoggle_setup_screen"\n    android:layout_width="48dp"\n    android:layout_height="48dp"\n  />\n\n  <dyte.io.uikit.view.DyteLabel\n    android:id="@+id/dyteLabelView"\n    android:layout_width="300dp"\n    android:layout_height="25dp"\n    android:text="Join in as %s"\n    android:textColor="#fff"\n    android:textSize="16sp"\n  />\n\n  <dyte.io.uikit.view.DyteInputField\n    android:id="@+id/textInputEditText"\n    android:layout_width="300dp"\n    android:layout_height="48dp"\n    android:hint="Your name"\n  />\n\n  <dyte.io.uikit.view.DyteJoinButton\n    android:id="@+id/dytejoinbutton_setup_screen"\n    android:layout_width="300dp"\n    android:layout_height="wrap_content"\n  />\n'})}),"\n",(0,t.jsx)(i.p,{children:"And on the kolin side we bind the newly added element like follows:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-kotlin",children:"private lateinit var selfParticipantTileView: DyteParticipantTileView\nprivate lateinit var cameraToggleButton: DyteCameraToggleButton\nprivate lateinit var micToggleButton: DyteMicToggleButton\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n  selfParticipantTileView = view.findViewById(R.id.dyteparticipanttileview_setup_screen)\n  cameraToggleButton = view.findViewById(R.id.dytecameratoggle_setup_screen)\n  micToggleButton = view.findViewById(R.id.dytemictoggle_setup_screen)\n\n  selfParticipantTileView.activateForSelfPreview(meeting.localUser)\n  micToggleButton.activate(meeting)\n  cameraToggleButton.activate(meeting)\n}\n"})}),"\n",(0,t.jsx)("img",{src:"/static/mobile/build-pre-call-ui/skeleton-page/android-setup-final-preview.png",width:"252",height:"560",alt:"Meeting Precall post skeleton changes",className:"mb-10"})]})}function c(e={}){let{wrapper:i}={...(0,o.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}}}]);