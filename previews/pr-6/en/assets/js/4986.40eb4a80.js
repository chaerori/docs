"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([["4986"],{30791:function(t,e,i){i.r(e),i.d(e,{dyte_participants_stage_list:function(){return l}});var s=i(84982),r=i(48724),a=i(83041),n=i(39415);i(79598);var p=i(71783);i(78410),i(51943);var o=i(96632);i(94098),i(81479);let l=class{constructor(t){(0,s.r)(this,t),this.updateStageList=()=>{var t,e,i;(null===(t=this.meeting)||void 0===t?void 0:t.meta.viewType)==="LIVESTREAM"?this.showStageList=(null===(i=null===(e=this.meeting)||void 0===e?void 0:e.stage)||void 0===i?void 0:i.status)==="ON_STAGE":this.showStageList=!0,this.getParticipants(this.search)},this.meeting=void 0,this.config=p.d,this.size=void 0,this.iconPack=r.d,this.view="sidebar",this.t=(0,a.u)(),this.search="",this.participants=[],this.showStageList=!1}connectedCallback(){this.meetingChanged(this.meeting),this.searchChanged(this.search)}disconnectedCallback(){let{participants:t,stage:e}=this.meeting;null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),t.joined.removeListener("stageStatusUpdate",this.updateStageList),null==e||e.removeListener("stageStatusUpdate",this.updateStageList))}meetingChanged(t){null!=t&&(this.participantJoinedListener=t=>{if("ON_STAGE"!==t.stageStatus)return;let e=this.search.toLowerCase();t.name.toLowerCase().includes(e)&&t.id.toLowerCase().includes(e)&&(this.participants=[...this.participants.filter(e=>e.id!==t.id),t])},this.participantLeftListener=t=>{this.participants=this.participants.filter(e=>e.id!==t.id)},t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener),this.updateStageList(),null==t||t.participants.joined.on("stageStatusUpdate",this.updateStageList),null==t||t.stage.on("stageStatusUpdate",this.updateStageList))}searchChanged(t){this.getParticipants(t)}getParticipants(t=this.search){let e="ON_STAGE"===this.meeting.stage.status?[this.meeting.self]:[];e=[...e,...this.meeting.participants.joined.toArray().filter(t=>"ON_STAGE"===t.stageStatus)],""===t?this.participants=e:this.participants=e.filter(e=>{var i;return(null!==(i=e.name)&&void 0!==i?i:e.id).toLowerCase().includes(t.toLowerCase())})}render(){if(!this.showStageList)return;let t={meeting:this.meeting,view:this.view,t:this.t,config:this.config,states:n.s,size:this.size,iconPack:this.iconPack};return(0,s.h)(s.H,null,(0,s.h)("div",{class:"participants-container"},(0,s.h)("div",{class:"heading-count",part:"heading-count"},this.t("participants")," (",this.participants.length,")"),(0,s.h)("ul",{class:"participants",part:"participants"},this.participants.map(e=>(0,s.h)(o.R,{element:"dyte-participant",defaults:t,props:{role:"listitem",participant:e,key:e.id},childProps:Object.assign(Object.assign({},t),{participant:e,size:this.size}),deepProps:!0})),0===this.participants.length&&(0,s.h)("div",{class:"empty-message",part:"empty-message"},this.search.length>0?this.t("search.could_not_find"):this.t("search.empty")))))}static get watchers(){return{meeting:["meetingChanged"],search:["searchChanged"]}}};l.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;width:100%;flex-direction:column;font-size:14px}.participants-container{margin-bottom:var(--dyte-space-4, 16px);width:100%}h3,.heading-count{margin:var(--dyte-space-0, 0px);display:flex;align-items:center;justify-content:center;padding:var(--dyte-space-0, 0px);font-size:16px;font-weight:400;color:rgb(var(--dyte-colors-text-900, 255 255 255 / 0.88));text-align:center}.heading-count{font-size:14px}.participants{margin-top:var(--dyte-space-2, 8px);margin-bottom:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.empty-message{margin-top:var(--dyte-space-4, 16px);margin-bottom:var(--dyte-space-4, 16px);text-align:center;font-size:12px;color:rgb(var(--dyte-colors-text-700, 255 255 255 / 0.64))}dyte-participant{width:100%}"},96632:function(t,e,i){i.d(e,{R:function(){return l},l:function(){return o}});var s=i(84982);let r=({element:t,size:e,states:i={},config:s={}})=>{let r=[],a=null==s?void 0:s.root[t],n=t=>{r.push(t),"string"==typeof e&&r.push(`${t}.${e}`)};if(n(t),"object"==typeof a&&!Array.isArray(a)&&null!==a){let{state:e,states:s}=a,r=[];if(Array.isArray(s)){for(let e of((r=s.filter(t=>i[t])).sort(),r))n(`${t}.${e}`);r.length>1&&n([t,...r].join("."))}if("string"==typeof e){let s=`${t}[${e}=${i[e]}]`;for(let t of(n(s),r))n(`${s}.${t}`);r.length>1&&n([s,...r].join("."))}}return r},a=({selectors:t,styles:e})=>{if(!Array.isArray(t)||null==e)return{};let i={};for(let s of t){let t=e[s];null!=t&&Object.assign(i,t)}return i},n=({selectors:t,root:e})=>{if(!e||!Array.isArray(t))return[];let i=[];for(let s of t){let t=e[s];if(Array.isArray(t))i=[...t];else if(t){if(t.children&&(i=[...t.children]),Array.isArray(t.remove))for(let e of t.remove)i=i.filter(t=>"string"==typeof t?t!==e:!Array.isArray(t)||t[0]!==e);if(t.addBefore)for(let[e,s]of Object.entries(t.addBefore)){let t=i.findIndex(t=>"string"==typeof t?t===e:!!Array.isArray(t)&&t[0]===e);t>=0&&i.splice(t,0,...s)}Array.isArray(t.add)&&(i=i.concat(t.add)),Array.isArray(t.prepend)&&(i=t.prepend.concat(i))}}return i},p=({elements:t,defaults:e,props:i={},deepProps:r=!1,elementProps:a={}})=>Array.isArray(t)&&0!==t.length?t.map(t=>(0,s.h)(l,{element:t,defaults:e,props:i,childProps:r&&i,elementProps:a})):null,o=({element:t,defaults:e,props:i={},elementProps:s={}})=>{var a;let{config:p,size:o,states:l}=e,c,d={},h=[];Array.isArray(t)?[c,d,...h]=t:c=t;let g=null===(a=null==p?void 0:p.root)||void 0===a?void 0:a[c];return null!=g&&"props"in g&&(i=Object.assign(Object.assign({},g.props),i)),i=Object.assign(Object.assign({},i),d),c in s&&(i=Object.assign(Object.assign({},i),s[c])),n({selectors:r({element:c,size:o,states:l,config:p}),root:p.root}).length},l=({element:t,defaults:e,childProps:i={},props:o={},onlyChildren:l=!1,asHost:c=!1,deepProps:d=!1,elementProps:h={}},g)=>{var u;let{config:f,size:y,states:m}=e,v,A={},L=[];Array.isArray(t)?[v,A,...L]=t:v=t;let b=null===(u=null==f?void 0:f.root)||void 0===u?void 0:u[v];null!=b&&"props"in b&&(o=Object.assign(Object.assign({},b.props),o)),o=Object.assign(Object.assign({},o),A),v in h&&(o=Object.assign(Object.assign({},o),h[v]));let j=r({element:v,size:y,states:m,config:f}),O=n({selectors:j,root:f.root});if(l)return(0,s.h)(p,{elements:O,defaults:e,props:i,deepProps:d,elementProps:h});let x=a({selectors:j,styles:f.styles});if(c)return(0,s.h)(s.H,Object.assign({},e,{style:x},o),(0,s.h)(p,{elements:O,defaults:e,props:i,deepProps:d,elementProps:h}),g,L.map(t=>{if(Array.isArray(t)){let[i,r]=t;return(0,s.h)(i,Object.assign({},e,r))}return t}));if(["dyte-header","dyte-controlbar"].includes(v)&&(o.disableRender=!0),v.startsWith("dyte-"))return(0,s.h)(v,Object.assign({},e,{style:x},o),(0,s.h)(p,{elements:O,defaults:e,props:i,deepProps:d,elementProps:h}),g,L.map(t=>{if(Array.isArray(t)){let[i,r]=t;return(0,s.h)(i,Object.assign({},e,r))}return t}));{let[t,r]=v.split("#");return(0,s.h)(t,Object.assign({id:r,style:x},o),(0,s.h)(p,{elements:O,defaults:e,props:i,deepProps:d,elementProps:h}),g,L.map(t=>{if(Array.isArray(t)){let[i,r]=t;return(0,s.h)(i,Object.assign({},e,r))}return t}))}}}}]);